{"ast":null,"code":"import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport React, { memo, useContext, useRef, useEffect, useImperativeHandle, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nimport { bool, oneOf, oneOfType, node, func, shape } from 'prop-types';\nimport { MenuList } from './MenuList.js';\nimport { withHovering } from '../utils/withHovering.js';\nimport { validateIndex, attachHandlerProps, safeCall, isMenuOpen } from '../utils/utils.js';\nimport { useMenuStateAndFocus } from '../hooks/useMenuStateAndFocus.js';\nimport { useActiveState } from '../hooks/useActiveState.js';\nimport { useMenuChange } from '../hooks/useMenuChange.js';\nimport { useBEM } from '../hooks/useBEM.js';\nimport { SettingsContext, ItemSettingsContext, MenuListItemContext, Keys, SubmenuActionTypes, HoverIndexActionTypes, menuClass, subMenuClass, menuItemClass, FocusPositions } from '../utils/constants.js';\nimport { useCombinedRef } from '../hooks/useCombinedRef.js';\nimport { useFlatStyles } from '../hooks/useFlatStyles.js';\nimport { menuPropTypes, uncontrolledMenuPropTypes, stylePropTypes, menuDefaultProps } from '../utils/propTypes.js';\nvar _excluded = [\"aria-label\", \"className\", \"disabled\", \"label\", \"index\", \"openTrigger\", \"onMenuChange\", \"isHovering\", \"instanceRef\", \"captureFocus\", \"repositionFlag\", \"itemProps\"],\n    _excluded2 = [\"openMenu\", \"toggleMenu\", \"state\"],\n    _excluded3 = [\"isActive\", \"onKeyUp\"],\n    _excluded4 = [\"ref\", \"className\", \"styles\"];\nvar SubMenu = /*#__PURE__*/withHovering( /*#__PURE__*/memo(function SubMenu(_ref) {\n  var ariaLabel = _ref['aria-label'],\n      className = _ref.className,\n      disabled = _ref.disabled,\n      label = _ref.label,\n      index = _ref.index,\n      openTrigger = _ref.openTrigger,\n      onMenuChange = _ref.onMenuChange,\n      isHovering = _ref.isHovering,\n      instanceRef = _ref.instanceRef,\n      _ref$itemProps = _ref.itemProps,\n      itemProps = _ref$itemProps === void 0 ? {} : _ref$itemProps,\n      restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var isDisabled = !!disabled;\n  validateIndex(index, isDisabled, label);\n\n  var _useContext = useContext(SettingsContext),\n      initialMounted = _useContext.initialMounted,\n      unmountOnClose = _useContext.unmountOnClose,\n      transition = _useContext.transition,\n      transitionTimeout = _useContext.transitionTimeout,\n      rootMenuRef = _useContext.rootMenuRef;\n\n  var _useContext2 = useContext(ItemSettingsContext),\n      submenuOpenDelay = _useContext2.submenuOpenDelay,\n      submenuCloseDelay = _useContext2.submenuCloseDelay;\n\n  var _useContext3 = useContext(MenuListItemContext),\n      parentMenuRef = _useContext3.parentMenuRef,\n      parentOverflow = _useContext3.parentOverflow,\n      isParentOpen = _useContext3.isParentOpen,\n      isSubmenuOpen = _useContext3.isSubmenuOpen,\n      dispatch = _useContext3.dispatch;\n\n  var isPortal = parentOverflow !== 'visible';\n\n  var _useMenuStateAndFocus = useMenuStateAndFocus({\n    initialMounted: initialMounted,\n    unmountOnClose: unmountOnClose,\n    transition: transition,\n    transitionTimeout: transitionTimeout\n  }),\n      _openMenu = _useMenuStateAndFocus.openMenu,\n      toggleMenu = _useMenuStateAndFocus.toggleMenu,\n      state = _useMenuStateAndFocus.state,\n      otherStateProps = _objectWithoutPropertiesLoose(_useMenuStateAndFocus, _excluded2);\n\n  var isOpen = isMenuOpen(state);\n\n  var _useActiveState = useActiveState(isHovering, isDisabled, Keys.RIGHT),\n      isActive = _useActiveState.isActive,\n      onKeyUp = _useActiveState.onKeyUp,\n      activeStateHandlers = _objectWithoutPropertiesLoose(_useActiveState, _excluded3);\n\n  var containerRef = useRef(null);\n  var itemRef = useRef(null);\n  var timeoutId = useRef();\n\n  var _openMenu2 = function openMenu() {\n    clearTimeout(timeoutId.current);\n    !isDisabled && _openMenu.apply(void 0, arguments);\n  };\n\n  var setHover = function setHover() {\n    return !isDisabled && !isHovering && dispatch({\n      type: HoverIndexActionTypes.SET,\n      index: index\n    });\n  };\n\n  var delayOpen = function delayOpen(delay) {\n    setHover();\n    if (!openTrigger) timeoutId.current = setTimeout(_openMenu2, Math.max(delay, 0));\n  };\n\n  var handleMouseEnter = function handleMouseEnter() {\n    if (isDisabled || isOpen) return;\n\n    if (isSubmenuOpen) {\n      timeoutId.current = setTimeout(function () {\n        return delayOpen(submenuOpenDelay - submenuCloseDelay);\n      }, submenuCloseDelay);\n    } else {\n      delayOpen(submenuOpenDelay);\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    clearTimeout(timeoutId.current);\n    if (!isOpen) dispatch({\n      type: HoverIndexActionTypes.UNSET,\n      index: index\n    });\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    var handled = false;\n\n    switch (e.key) {\n      case Keys.LEFT:\n        if (isOpen) {\n          itemRef.current.focus();\n          toggleMenu(false);\n          handled = true;\n        }\n\n        break;\n\n      case Keys.RIGHT:\n        if (!isOpen) handled = true;\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  var handleKeyUp = function handleKeyUp(e) {\n    if (!isActive) return;\n    onKeyUp(e);\n\n    switch (e.key) {\n      case Keys.ENTER:\n      case Keys.SPACE:\n      case Keys.RIGHT:\n        openTrigger !== 'none' && _openMenu2(FocusPositions.FIRST);\n        break;\n    }\n  };\n\n  useEffect(function () {\n    return function () {\n      return clearTimeout(timeoutId.current);\n    };\n  }, []);\n  useEffect(function () {\n    if (isHovering && isParentOpen) {\n      itemRef.current.focus();\n    } else {\n      toggleMenu(false);\n    }\n  }, [isHovering, isParentOpen, toggleMenu]);\n  useEffect(function () {\n    dispatch({\n      type: isOpen ? SubmenuActionTypes.OPEN : SubmenuActionTypes.CLOSE\n    });\n  }, [dispatch, isOpen]);\n  useMenuChange(onMenuChange, isOpen);\n  useImperativeHandle(instanceRef, function () {\n    return {\n      openMenu: function openMenu() {\n        if (isParentOpen) {\n          setHover();\n\n          _openMenu2.apply(void 0, arguments);\n        }\n      },\n      closeMenu: function closeMenu() {\n        if (isOpen) {\n          itemRef.current.focus();\n          toggleMenu(false);\n        }\n      }\n    };\n  });\n  var modifiers = useMemo(function () {\n    return Object.freeze({\n      open: isOpen,\n      hover: isHovering,\n      active: isActive,\n      disabled: isDisabled,\n      submenu: true\n    });\n  }, [isOpen, isHovering, isActive, isDisabled]);\n\n  var externaItemlRef = itemProps.ref,\n      itemClassName = itemProps.className,\n      itemStyles = itemProps.styles,\n      restItemProps = _objectWithoutPropertiesLoose(itemProps, _excluded4);\n\n  var itemHandlers = attachHandlerProps(_extends({}, activeStateHandlers, {\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onMouseDown: setHover,\n    onClick: function onClick() {\n      return openTrigger !== 'none' && _openMenu2();\n    },\n    onKeyUp: handleKeyUp\n  }), restItemProps);\n\n  var getMenuList = function getMenuList() {\n    var menuList = /*#__PURE__*/React.createElement(MenuList, _extends({}, restProps, otherStateProps, {\n      state: state,\n      ariaLabel: ariaLabel || (typeof label === 'string' ? label : 'Submenu'),\n      anchorRef: itemRef,\n      containerRef: isPortal ? rootMenuRef : containerRef,\n      parentScrollingRef: isPortal && parentMenuRef,\n      isDisabled: isDisabled\n    }));\n    return isPortal ? /*#__PURE__*/createPortal(menuList, rootMenuRef.current) : menuList;\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: useBEM({\n      block: menuClass,\n      element: subMenuClass,\n      className: className\n    }),\n    role: \"presentation\",\n    ref: containerRef,\n    onKeyDown: handleKeyDown\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"menuitem\",\n    \"aria-haspopup\": true,\n    \"aria-expanded\": isOpen,\n    \"aria-disabled\": isDisabled || undefined,\n    tabIndex: isHovering && !isOpen ? 0 : -1\n  }, restItemProps, itemHandlers, {\n    ref: useCombinedRef(externaItemlRef, itemRef),\n    className: useBEM({\n      block: menuClass,\n      element: menuItemClass,\n      modifiers: modifiers,\n      className: itemClassName\n    }),\n    style: useFlatStyles(itemStyles, modifiers)\n  }), useMemo(function () {\n    return safeCall(label, modifiers);\n  }, [label, modifiers])), state && getMenuList());\n}), 'SubMenu');\nprocess.env.NODE_ENV !== \"production\" ? SubMenu.propTypes = /*#__PURE__*/_extends({}, menuPropTypes, uncontrolledMenuPropTypes, {\n  disabled: bool,\n  openTrigger: /*#__PURE__*/oneOf(['none', 'clickOnly']),\n  label: /*#__PURE__*/oneOfType([node, func]),\n  itemProps: /*#__PURE__*/shape( /*#__PURE__*/_extends({}, /*#__PURE__*/stylePropTypes()))\n}) : void 0;\nSubMenu.defaultProps = /*#__PURE__*/_extends({}, menuDefaultProps, {\n  direction: 'right'\n});\nexport { SubMenu };","map":{"version":3,"sources":["C:/Users/Shahwaiz Nathani/Desktop/mutrajim-fyp/Mehnat-o-Musshakat/node_modules/@szhsin/react-menu/dist/es/components/SubMenu.js"],"names":["objectWithoutPropertiesLoose","_objectWithoutPropertiesLoose","extends","_extends","React","memo","useContext","useRef","useEffect","useImperativeHandle","useMemo","createPortal","bool","oneOf","oneOfType","node","func","shape","MenuList","withHovering","validateIndex","attachHandlerProps","safeCall","isMenuOpen","useMenuStateAndFocus","useActiveState","useMenuChange","useBEM","SettingsContext","ItemSettingsContext","MenuListItemContext","Keys","SubmenuActionTypes","HoverIndexActionTypes","menuClass","subMenuClass","menuItemClass","FocusPositions","useCombinedRef","useFlatStyles","menuPropTypes","uncontrolledMenuPropTypes","stylePropTypes","menuDefaultProps","_excluded","_excluded2","_excluded3","_excluded4","SubMenu","_ref","ariaLabel","className","disabled","label","index","openTrigger","onMenuChange","isHovering","instanceRef","_ref$itemProps","itemProps","restProps","isDisabled","_useContext","initialMounted","unmountOnClose","transition","transitionTimeout","rootMenuRef","_useContext2","submenuOpenDelay","submenuCloseDelay","_useContext3","parentMenuRef","parentOverflow","isParentOpen","isSubmenuOpen","dispatch","isPortal","_useMenuStateAndFocus","_openMenu","openMenu","toggleMenu","state","otherStateProps","isOpen","_useActiveState","RIGHT","isActive","onKeyUp","activeStateHandlers","containerRef","itemRef","timeoutId","_openMenu2","clearTimeout","current","apply","arguments","setHover","type","SET","delayOpen","delay","setTimeout","Math","max","handleMouseEnter","handleMouseLeave","UNSET","handleKeyDown","e","handled","key","LEFT","focus","preventDefault","stopPropagation","handleKeyUp","ENTER","SPACE","FIRST","OPEN","CLOSE","closeMenu","modifiers","Object","freeze","open","hover","active","submenu","externaItemlRef","ref","itemClassName","itemStyles","styles","restItemProps","itemHandlers","onMouseEnter","onMouseLeave","onMouseDown","onClick","getMenuList","menuList","createElement","anchorRef","parentScrollingRef","block","element","role","onKeyDown","undefined","tabIndex","style","process","env","NODE_ENV","propTypes","defaultProps","direction"],"mappings":"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","sourcesContent":["import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport React, { memo, useContext, useRef, useEffect, useImperativeHandle, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nimport { bool, oneOf, oneOfType, node, func, shape } from 'prop-types';\nimport { MenuList } from './MenuList.js';\nimport { withHovering } from '../utils/withHovering.js';\nimport { validateIndex, attachHandlerProps, safeCall, isMenuOpen } from '../utils/utils.js';\nimport { useMenuStateAndFocus } from '../hooks/useMenuStateAndFocus.js';\nimport { useActiveState } from '../hooks/useActiveState.js';\nimport { useMenuChange } from '../hooks/useMenuChange.js';\nimport { useBEM } from '../hooks/useBEM.js';\nimport { SettingsContext, ItemSettingsContext, MenuListItemContext, Keys, SubmenuActionTypes, HoverIndexActionTypes, menuClass, subMenuClass, menuItemClass, FocusPositions } from '../utils/constants.js';\nimport { useCombinedRef } from '../hooks/useCombinedRef.js';\nimport { useFlatStyles } from '../hooks/useFlatStyles.js';\nimport { menuPropTypes, uncontrolledMenuPropTypes, stylePropTypes, menuDefaultProps } from '../utils/propTypes.js';\n\nvar _excluded = [\"aria-label\", \"className\", \"disabled\", \"label\", \"index\", \"openTrigger\", \"onMenuChange\", \"isHovering\", \"instanceRef\", \"captureFocus\", \"repositionFlag\", \"itemProps\"],\n    _excluded2 = [\"openMenu\", \"toggleMenu\", \"state\"],\n    _excluded3 = [\"isActive\", \"onKeyUp\"],\n    _excluded4 = [\"ref\", \"className\", \"styles\"];\nvar SubMenu = /*#__PURE__*/withHovering( /*#__PURE__*/memo(function SubMenu(_ref) {\n  var ariaLabel = _ref['aria-label'],\n      className = _ref.className,\n      disabled = _ref.disabled,\n      label = _ref.label,\n      index = _ref.index,\n      openTrigger = _ref.openTrigger,\n      onMenuChange = _ref.onMenuChange,\n      isHovering = _ref.isHovering,\n      instanceRef = _ref.instanceRef,\n      _ref$itemProps = _ref.itemProps,\n      itemProps = _ref$itemProps === void 0 ? {} : _ref$itemProps,\n      restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var isDisabled = !!disabled;\n  validateIndex(index, isDisabled, label);\n\n  var _useContext = useContext(SettingsContext),\n      initialMounted = _useContext.initialMounted,\n      unmountOnClose = _useContext.unmountOnClose,\n      transition = _useContext.transition,\n      transitionTimeout = _useContext.transitionTimeout,\n      rootMenuRef = _useContext.rootMenuRef;\n\n  var _useContext2 = useContext(ItemSettingsContext),\n      submenuOpenDelay = _useContext2.submenuOpenDelay,\n      submenuCloseDelay = _useContext2.submenuCloseDelay;\n\n  var _useContext3 = useContext(MenuListItemContext),\n      parentMenuRef = _useContext3.parentMenuRef,\n      parentOverflow = _useContext3.parentOverflow,\n      isParentOpen = _useContext3.isParentOpen,\n      isSubmenuOpen = _useContext3.isSubmenuOpen,\n      dispatch = _useContext3.dispatch;\n\n  var isPortal = parentOverflow !== 'visible';\n\n  var _useMenuStateAndFocus = useMenuStateAndFocus({\n    initialMounted: initialMounted,\n    unmountOnClose: unmountOnClose,\n    transition: transition,\n    transitionTimeout: transitionTimeout\n  }),\n      _openMenu = _useMenuStateAndFocus.openMenu,\n      toggleMenu = _useMenuStateAndFocus.toggleMenu,\n      state = _useMenuStateAndFocus.state,\n      otherStateProps = _objectWithoutPropertiesLoose(_useMenuStateAndFocus, _excluded2);\n\n  var isOpen = isMenuOpen(state);\n\n  var _useActiveState = useActiveState(isHovering, isDisabled, Keys.RIGHT),\n      isActive = _useActiveState.isActive,\n      onKeyUp = _useActiveState.onKeyUp,\n      activeStateHandlers = _objectWithoutPropertiesLoose(_useActiveState, _excluded3);\n\n  var containerRef = useRef(null);\n  var itemRef = useRef(null);\n  var timeoutId = useRef();\n\n  var _openMenu2 = function openMenu() {\n    clearTimeout(timeoutId.current);\n    !isDisabled && _openMenu.apply(void 0, arguments);\n  };\n\n  var setHover = function setHover() {\n    return !isDisabled && !isHovering && dispatch({\n      type: HoverIndexActionTypes.SET,\n      index: index\n    });\n  };\n\n  var delayOpen = function delayOpen(delay) {\n    setHover();\n    if (!openTrigger) timeoutId.current = setTimeout(_openMenu2, Math.max(delay, 0));\n  };\n\n  var handleMouseEnter = function handleMouseEnter() {\n    if (isDisabled || isOpen) return;\n\n    if (isSubmenuOpen) {\n      timeoutId.current = setTimeout(function () {\n        return delayOpen(submenuOpenDelay - submenuCloseDelay);\n      }, submenuCloseDelay);\n    } else {\n      delayOpen(submenuOpenDelay);\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    clearTimeout(timeoutId.current);\n    if (!isOpen) dispatch({\n      type: HoverIndexActionTypes.UNSET,\n      index: index\n    });\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    var handled = false;\n\n    switch (e.key) {\n      case Keys.LEFT:\n        if (isOpen) {\n          itemRef.current.focus();\n          toggleMenu(false);\n          handled = true;\n        }\n\n        break;\n\n      case Keys.RIGHT:\n        if (!isOpen) handled = true;\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  var handleKeyUp = function handleKeyUp(e) {\n    if (!isActive) return;\n    onKeyUp(e);\n\n    switch (e.key) {\n      case Keys.ENTER:\n      case Keys.SPACE:\n      case Keys.RIGHT:\n        openTrigger !== 'none' && _openMenu2(FocusPositions.FIRST);\n        break;\n    }\n  };\n\n  useEffect(function () {\n    return function () {\n      return clearTimeout(timeoutId.current);\n    };\n  }, []);\n  useEffect(function () {\n    if (isHovering && isParentOpen) {\n      itemRef.current.focus();\n    } else {\n      toggleMenu(false);\n    }\n  }, [isHovering, isParentOpen, toggleMenu]);\n  useEffect(function () {\n    dispatch({\n      type: isOpen ? SubmenuActionTypes.OPEN : SubmenuActionTypes.CLOSE\n    });\n  }, [dispatch, isOpen]);\n  useMenuChange(onMenuChange, isOpen);\n  useImperativeHandle(instanceRef, function () {\n    return {\n      openMenu: function openMenu() {\n        if (isParentOpen) {\n          setHover();\n\n          _openMenu2.apply(void 0, arguments);\n        }\n      },\n      closeMenu: function closeMenu() {\n        if (isOpen) {\n          itemRef.current.focus();\n          toggleMenu(false);\n        }\n      }\n    };\n  });\n  var modifiers = useMemo(function () {\n    return Object.freeze({\n      open: isOpen,\n      hover: isHovering,\n      active: isActive,\n      disabled: isDisabled,\n      submenu: true\n    });\n  }, [isOpen, isHovering, isActive, isDisabled]);\n\n  var externaItemlRef = itemProps.ref,\n      itemClassName = itemProps.className,\n      itemStyles = itemProps.styles,\n      restItemProps = _objectWithoutPropertiesLoose(itemProps, _excluded4);\n\n  var itemHandlers = attachHandlerProps(_extends({}, activeStateHandlers, {\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onMouseDown: setHover,\n    onClick: function onClick() {\n      return openTrigger !== 'none' && _openMenu2();\n    },\n    onKeyUp: handleKeyUp\n  }), restItemProps);\n\n  var getMenuList = function getMenuList() {\n    var menuList = /*#__PURE__*/React.createElement(MenuList, _extends({}, restProps, otherStateProps, {\n      state: state,\n      ariaLabel: ariaLabel || (typeof label === 'string' ? label : 'Submenu'),\n      anchorRef: itemRef,\n      containerRef: isPortal ? rootMenuRef : containerRef,\n      parentScrollingRef: isPortal && parentMenuRef,\n      isDisabled: isDisabled\n    }));\n    return isPortal ? /*#__PURE__*/createPortal(menuList, rootMenuRef.current) : menuList;\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: useBEM({\n      block: menuClass,\n      element: subMenuClass,\n      className: className\n    }),\n    role: \"presentation\",\n    ref: containerRef,\n    onKeyDown: handleKeyDown\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"menuitem\",\n    \"aria-haspopup\": true,\n    \"aria-expanded\": isOpen,\n    \"aria-disabled\": isDisabled || undefined,\n    tabIndex: isHovering && !isOpen ? 0 : -1\n  }, restItemProps, itemHandlers, {\n    ref: useCombinedRef(externaItemlRef, itemRef),\n    className: useBEM({\n      block: menuClass,\n      element: menuItemClass,\n      modifiers: modifiers,\n      className: itemClassName\n    }),\n    style: useFlatStyles(itemStyles, modifiers)\n  }), useMemo(function () {\n    return safeCall(label, modifiers);\n  }, [label, modifiers])), state && getMenuList());\n}), 'SubMenu');\nprocess.env.NODE_ENV !== \"production\" ? SubMenu.propTypes = /*#__PURE__*/_extends({}, menuPropTypes, uncontrolledMenuPropTypes, {\n  disabled: bool,\n  openTrigger: /*#__PURE__*/oneOf(['none', 'clickOnly']),\n  label: /*#__PURE__*/oneOfType([node, func]),\n  itemProps: /*#__PURE__*/shape( /*#__PURE__*/_extends({}, /*#__PURE__*/stylePropTypes()))\n}) : void 0;\nSubMenu.defaultProps = /*#__PURE__*/_extends({}, menuDefaultProps, {\n  direction: 'right'\n});\n\nexport { SubMenu };\n"]},"metadata":{},"sourceType":"module"}